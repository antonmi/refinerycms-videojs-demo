<label>Files</label>

<% if action_name =~ /(edit)|(update)/ %>

    <%= render 'fields_edit_update', :f => f %>

<% else %>
        <% @video.video_files.build %>
        <% @mime_types.each_with_index do |mime_type, index| %>
            <%= render 'fields_new_create', :f => f, :mime_type => mime_type, :index => index %>
        <% end  %>
<% end %>


<div class='field' id='maximum_file_size'>
  <label>
    <%= t('.maximum_file_size', :bytes => number_to_human_size(Refinery::Videos.max_file_size)) %>
  </label>
</div>

<script type="text/javascript">
    $('input.use_external').on('change', function(){
        if ($(this).is(':checked')) {
            $(this).parents('div.parent').find('div.use_external').show();
            $(this).parents('div.parent').find('div.use_file').hide();
        }
    })
    $('input.use_file').on('change', function(){
        if ($(this).is(':checked')) {
            $(this).parents('div.parent').find('div.use_external').hide();
            $(this).parents('div.parent').find('div.use_file').show();
        }
    })
</script>
